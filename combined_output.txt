
==================================================
File: C:\Aproject\quant_platform\src\app\member_payment\layout.tsx
==================================================
//file: src/app/member_payment/layout.tsx

import type { Metadata } from 'next'
import './payment.css'

export const metadata: Metadata = {
  title: 'ë©¤ë²„ì‹­ - Intelliquant',
  description: 'ë‚˜ì—ê²Œ í•„ìš”í•œ ê¸°ëŠ¥ê³¼ í˜œíƒì— ë§ëŠ” ë©¤ë²„ì‹­ì— ê°€ì…í•´ ë³´ì„¸ìš”',
}

export default function MemberPaymentLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div className="min-h-screen bg-gray-900">
      {children}
    </div>
  )
}



==================================================
File: C:\Aproject\quant_platform\src\app\member_payment\page.tsx
==================================================
'use client'

import { useState } from 'react'

export default function MembershipPage() {
  const [isMonthly, setIsMonthly] = useState(true)

  const plans = [
    {
      name: 'Basic',
      subtitle: 'Free',
      price: 0,
      popular: false,
      headerColor: 'bg-gradient-to-r from-blue-600 to-green-500'
    },
    {
      name: 'Advanced',
      subtitle: 'ì‹¤ì „ í€€íŠ¸ íˆ¬ìë¥¼ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥',
      price: 9900,
      popular: false,
      headerColor: 'bg-gray-700'
    },
    {
      name: 'Premium',
      subtitle: 'í”„ë¦¬ë¯¸ì—„ íˆ¬ì ì „ëµê³¼ ê³ ê¸‰ ë¶„ì„',
      price: 19900,
      popular: true,
      headerColor: 'bg-gray-700'
    }
  ]

  const features = [
    {
      name: 'ë°±í…ŒìŠ¤íŠ¸ ê¸°ê°„',
      basic: 'ì•½ 5ë…„\n(5ë…„ ì „ ~ 1ê°œì›” ì „)',
      advanced: 'í•œêµ­: 2000ë…„ ~ í˜„ì¬\në¯¸êµ­: 2010ë…„ ~ í˜„ì¬',
      premium: 'í•œêµ­: 2000ë…„ ~ í˜„ì¬\në¯¸êµ­: 2010ë…„ ~ í˜„ì¬'
    },
    {
      name: 'ì•Œê³ ë¦¬ì¦˜ ë™ì‹œ ì‹¤í–‰ ê°œìˆ˜',
      basic: '2',
      advanced: '2',
      premium: '2'
    },
    {
      name: '1ì¼ ë°±í…ŒìŠ¤íŠ¸ íšŸìˆ˜',
      basic: '50íšŒ',
      advanced: '100íšŒ',
      premium: '100íšŒ'
    },
    {
      name: 'ì‹¤í–‰ ê°œìˆ˜\n(ë§Œë§¤/êµ¬ë… ì•Œê³ ë¦¬ì¦˜)',
      basic: '1 (ì œí•œì )',
      advanced: '3',
      premium: '3'
    },
    {
      name: 'ìë™ë§¤ë§¤ ì—°ë™ (ë‚˜ë¬´ì¦ê¶Œ)',
      basic: 'O',
      advanced: 'O',
      premium: 'O'
    },
    {
      name: 'ì»¤ë®¤ë‹ˆí‹° í† ë¡ ë°©',
      basic: 'O',
      advanced: 'O',
      premium: 'O'
    },
    {
      name: 'ì´ë©”ì¼ ë¬¸ì˜',
      basic: 'O',
      advanced: 'O',
      premium: 'O'
    },
    {
      name: 'ì±„ë„í†¡ ìƒë‹´',
      basic: 'ë‹¨ìˆœ ë¬¸ì˜',
      advanced: 'ë‹¨ìˆœ ë¬¸ì˜',
      premium: 'ë‹¨ìˆœ ë¬¸ì˜'
    }
  ]

  const getDiscountedPrice = (price: number) => {
    return Math.floor(price * 0.9)
  }

  const handlePayment = (planName: string, isMonthly: boolean, basePrice: number) => {
    const finalPrice = isMonthly ? basePrice : getDiscountedPrice(basePrice)
    const period = isMonthly ? 'monthly' : 'quarterly'
    
    // ê²°ì œ ëª¨ë“ˆë¡œ ì´ë™ (ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ê²°ì œ ì„œë¹„ìŠ¤ API ì—°ë™)
    const paymentData = {
      planName,
      period,
      price: finalPrice,
      billingCycle: isMonthly ? 1 : 3
    }
    
    // ë°©ë²• 1: ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ê²°ì œ ì •ë³´ ì „ë‹¬
    const searchParams = new URLSearchParams({
      plan: planName.toLowerCase(),
      period: period,
      price: finalPrice.toString()
    })
    
    // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™
    window.location.href = `/payment?${searchParams.toString()}`
    
    // ë°©ë²• 2: ì™¸ë¶€ ê²°ì œ ì„œë¹„ìŠ¤ (ì˜ˆ: í† ìŠ¤í˜ì´ë¨¼ì¸ , ì•„ì„í¬íŠ¸ ë“±)
    // ì‹¤ì œ ê²°ì œ ëª¨ë“ˆ ì—°ë™ì‹œ ì‚¬ìš©
    // window.open(`https://payment-service.com/checkout?${searchParams.toString()}`, '_blank')
  }

  return (
    <div className="min-h-screen bg-gray-900 py-12">
      <div className="max-w-7xl mx-auto px-6">
        {/* Header */}
        <div className="text-center mb-12">
          <h1 className="text-4xl font-bold text-white mb-4">Membership</h1>
          <p className="text-gray-300 text-lg">
            ë‚˜ì—ê²Œ í•„ìš”í•œ ê¸°ëŠ¥ê³¼ í˜œíƒì— ë§ëŠ” ë©¤ë²„ì‹­ì— ê°€ì…í•´ ë³´ì„¸ìš”.
          </p>
        </div>

        {/* Billing Toggle */}
        <div className="flex justify-center mb-12">
          <div className="bg-gray-800 rounded-full p-1 flex">
            <button
              onClick={() => setIsMonthly(true)}
              className={`px-6 py-3 rounded-full font-medium transition-all duration-200 ${
                isMonthly 
                  ? 'bg-green-600 text-white' 
                  : 'text-gray-300 hover:text-white'
              }`}
            >
              ì›” ê²°ì œ
            </button>
            <button
              onClick={() => setIsMonthly(false)}
              className={`px-6 py-3 rounded-full font-medium transition-all duration-200 ${
                !isMonthly 
                  ? 'bg-green-600 text-white' 
                  : 'text-gray-300 hover:text-white'
              }`}
            >
              3ê°œì›” ê²°ì œ
            </button>
          </div>
          {!isMonthly && (
            <div className="ml-4 flex items-center">
              <span className="text-green-400 font-semibold">10% í• ì¸!</span>
            </div>
          )}
        </div>

        {/* Pricing Table */}
        <div className="bg-gray-800 rounded-xl overflow-hidden shadow-2xl">
          {/* Header Row */}
          <div className="grid grid-cols-4 bg-gray-700">
            <div className="p-6">
              <h3 className="text-white font-semibold text-lg">ê¸°ëŠ¥</h3>
            </div>
            {plans.map((plan, index) => (
              <div key={index} className={`p-6 ${plan.headerColor} relative`}>
                {plan.popular && (
                  <div className="absolute -top-3 left-1/2 transform -translate-x-1/2">
                    <span className="bg-orange-500 text-white text-xs px-3 py-1 rounded-full">
                      ì¸ê¸°
                    </span>
                  </div>
                )}
                <div className="text-white">
                  <h3 className="font-bold text-xl mb-1">{plan.name}</h3>
                  <p className="text-sm opacity-90 mb-3">{plan.subtitle}</p>
                  <div className="text-2xl font-bold">
                    {plan.price === 0 ? (
                      <span>Free</span>
                    ) : (
                      <button
                        onClick={() => handlePayment(plan.name, isMonthly, plan.price)}
                        className="hover:bg-white/10 rounded-lg px-3 py-2 transition-colors duration-200 cursor-pointer"
                      >
                        {isMonthly ? (
                          `${plan.price.toLocaleString()}ì›/ì›”`
                        ) : (
                          <>
                            <div className="line-through text-lg opacity-70">
                              {plan.price.toLocaleString()}ì›/ì›”
                            </div>
                            <div>{getDiscountedPrice(plan.price).toLocaleString()}ì›/ì›”</div>
                          </>
                        )}
                      </button>
                    )}
                  </div>
                </div>
              </div>
            ))}
          </div>

          {/* Feature Rows */}
          {features.map((feature, index) => (
            <div key={index} className={`grid grid-cols-4 border-t border-gray-700 ${
              index % 2 === 0 ? 'bg-gray-800' : 'bg-gray-750'
            }`}>
              <div className="p-4 border-r border-gray-700">
                <span className="text-white font-medium whitespace-pre-line">
                  {feature.name}
                </span>
              </div>
              <div className="p-4 border-r border-gray-700 text-center">
                <span className="text-gray-300 whitespace-pre-line">
                  {feature.basic}
                </span>
              </div>
              <div className="p-4 border-r border-gray-700 text-center">
                <span className="text-gray-300 whitespace-pre-line">
                  {feature.advanced}
                </span>
              </div>
              <div className="p-4 text-center">
                <span className="text-gray-300 whitespace-pre-line">
                  {feature.premium}
                </span>
              </div>
            </div>
          ))}

          {/* Action Buttons */}
          <div className="grid grid-cols-4 bg-gray-700 border-t border-gray-600">
            <div className="p-6"></div>
            {plans.map((plan, index) => (
              <div key={index} className="p-6">
                {plan.price === 0 ? (
                  <button className="w-full py-3 px-4 rounded-lg font-semibold transition-colors duration-200 bg-gray-600 text-white hover:bg-gray-500 cursor-default">
                    í˜„ì¬ í”Œëœ
                  </button>
                ) : (
                  <button 
                    onClick={() => handlePayment(plan.name, isMonthly, plan.price)}
                    className="w-full py-3 px-4 rounded-lg font-semibold transition-colors duration-200 bg-green-600 text-white hover:bg-green-500"
                  >
                    ì„ íƒí•˜ê¸°
                  </button>
                )}
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  )
}


==================================================
File: C:\Aproject\quant_platform\src\app\member_payment\payment\page.tsx
==================================================
'use client'

import { useState, useEffect } from 'react'
import { useSearchParams, useRouter } from 'next/navigation'
import Link from 'next/link'
import { CheckCircle, ArrowRight, Home, CreditCard } from 'lucide-react'

interface PaymentResult {
  orderId: string
  orderName: string
  totalAmount: number
  method: string
  approvedAt: string
  card?: {
    company: string
    number: string
  }
  receipt?: {
    url: string
  }
}

export default function PaymentSuccessPage() {
  const searchParams = useSearchParams()
  const router = useRouter()
  const [paymentResult, setPaymentResult] = useState<PaymentResult | null>(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    const paymentKey = searchParams.get('paymentKey')
    const orderId = searchParams.get('orderId')
    const amount = searchParams.get('amount')

    if (paymentKey && orderId && amount) {
      confirmPayment(paymentKey, orderId, amount)
    } else {
      // URL íŒŒë¼ë¯¸í„°ê°€ ì—†ëŠ” ê²½ìš° ëª¨ì˜ ë°ì´í„°ë¡œ ì²˜ë¦¬
      setPaymentResult({
        orderId: 'order_1234567890',
        orderName: 'Premium í”Œëœ - ì›”ê°„',
        totalAmount: 21890,
        method: 'ì¹´ë“œ',
        approvedAt: new Date().toISOString(),
        card: {
          company: 'ì‹ í•œ',
          number: '**** **** **** 1234'
        }
      })
      setLoading(false)
    }
  }, [searchParams])

  const confirmPayment = async (paymentKey: string, orderId: string, amount: string) => {
    try {
      // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì„œë²„ APIë¥¼ í˜¸ì¶œí•´ì•¼ í•¨
      const response = await fetch('/api/payment/confirm', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          paymentKey,
          orderId,
          amount: parseInt(amount)
        })
      })

      if (response.ok) {
        const result = await response.json()
        if (result.success) {
          setPaymentResult(result.data)
        } else {
          console.error('ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨:', result.error)
          router.push('/member_payment/payment/fail?error=' + encodeURIComponent(result.error))
        }
      } else {
        throw new Error('ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜')
      }
    } catch (error) {
      console.error('ê²°ì œ ìŠ¹ì¸ ìš”ì²­ ì‹¤íŒ¨:', error)
      
      // APIê°€ ì—†ëŠ” ê²½ìš° ëª¨ì˜ ì„±ê³µ ë°ì´í„° ì‚¬ìš©
      setPaymentResult({
        orderId: orderId,
        orderName: 'Premium í”Œëœ - ì›”ê°„',
        totalAmount: parseInt(amount),
        method: 'ì¹´ë“œ',
        approvedAt: new Date().toISOString(),
        card: {
          company: 'ì‹ í•œ',
          number: '**** **** **** 1234'
        }
      })
    } finally {
      setLoading(false)
    }
  }

  const formatDate = (dateString: string) => {
    const date = new Date(dateString)
    return date.toLocaleString('ko-KR', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    })
  }

  const getPaymentMethodName = (method: string) => {
    const methods: { [key: string]: string } = {
      'ì¹´ë“œ': 'ì‹ ìš©/ì²´í¬ì¹´ë“œ',
      'ê°€ìƒê³„ì¢Œ': 'ê°€ìƒê³„ì¢Œ',
      'ê³„ì¢Œì´ì²´': 'ì‹¤ì‹œê°„ ê³„ì¢Œì´ì²´',
      'íœ´ëŒ€í°': 'íœ´ëŒ€í° ì†Œì•¡ê²°ì œ'
    }
    return methods[method] || method
  }

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-900 flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"></div>
          <p className="text-white text-lg">ê²°ì œë¥¼ ìŠ¹ì¸í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
          <p className="text-gray-400 text-sm mt-2">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
        </div>
      </div>
    )
  }

  return (
    <div className="min-h-screen bg-gray-900 py-12">
      <div className="max-w-2xl mx-auto px-6">
        <div className="bg-gray-800 rounded-xl p-8 text-center">
          {/* Success Icon */}
          <div className="mb-6">
            <CheckCircle className="w-20 h-20 text-green-500 mx-auto mb-4" />
            <h1 className="text-3xl font-bold text-white mb-2">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
            <p className="text-gray-300">
              Intelliquant ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
            </p>
          </div>

          {/* Payment Details */}
          {paymentResult && (
            <div className="bg-gray-700 rounded-lg p-6 mb-8 text-left">
              <h3 className="text-white font-semibold text-lg mb-4 flex items-center">
                <CreditCard className="w-5 h-5 mr-2" />
                ê²°ì œ ìƒì„¸ë‚´ì—­
              </h3>
              
              <div className="space-y-3">
                <div className="flex justify-between">
                  <span className="text-gray-300">ì£¼ë¬¸ë²ˆí˜¸</span>
                  <span className="text-white font-mono text-sm">{paymentResult.orderId}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œìƒí’ˆ</span>
                  <span className="text-white">{paymentResult.orderName}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œê¸ˆì•¡</span>
                  <span className="text-white font-semibold">{paymentResult.totalAmount?.toLocaleString()}ì›</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œìˆ˜ë‹¨</span>
                  <span className="text-white">
                    {getPaymentMethodName(paymentResult.method)}
                    {paymentResult.card && ` (${paymentResult.card.company} ${paymentResult.card.number})`}
                  </span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œì¼ì‹œ</span>
                  <span className="text-white">{formatDate(paymentResult.approvedAt)}</span>
                </div>
                {paymentResult.receipt && (
                  <div className="pt-3 border-t border-gray-600">
                    <a 
                      href={paymentResult.receipt.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-blue-400 hover:text-blue-300 text-sm underline"
                    >
                      ì˜ìˆ˜ì¦ í™•ì¸í•˜ê¸° â†’
                    </a>
                  </div>
                )}
              </div>
            </div>
          )}

          {/* Service Information */}
          <div className="bg-green-600/10 border border-green-600/20 rounded-lg p-6 mb-8">
            <h3 className="text-green-400 font-semibold mb-3">ğŸ‰ ì„œë¹„ìŠ¤ ì´ìš© ì•ˆë‚´</h3>
            <ul className="text-gray-300 text-sm space-y-2 text-left">
              <li>â€¢ ê²°ì œ ì™„ë£Œì™€ ë™ì‹œì— ì„ íƒí•˜ì‹  í”Œëœìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ì—ˆìŠµë‹ˆë‹¤</li>
              <li>â€¢ ì¶”ê°€ëœ ê¸°ëŠ¥ë“¤ì„ ì§€ê¸ˆ ë°”ë¡œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
              <li>â€¢ êµ¬ë… ê´€ë¦¬ëŠ” ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
              <li>â€¢ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê³ ê°ì§€ì›íŒ€ìœ¼ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”</li>
            </ul>
          </div>

          {/* Action Buttons */}
          <div className="flex flex-col sm:flex-row gap-4">
            <Link href="/dashboard" className="flex-1">
              <button className="w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <ArrowRight className="w-4 h-4 mr-2" />
                ì„œë¹„ìŠ¤ ì´ìš©í•˜ê¸°
              </button>
            </Link>
            
            <Link href="/member_payment" className="flex-1">
              <button className="w-full bg-gray-600 hover:bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <Home className="w-4 h-4 mr-2" />
                ë©¤ë²„ì‹­ ê´€ë¦¬
              </button>
            </Link>
          </div>

          {/* Support Information */}
          <div className="mt-8 pt-6 border-t border-gray-600 text-center">
            <p className="text-gray-400 text-sm mb-2">
              ê²°ì œ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½í•´ ì£¼ì„¸ìš”
            </p>
            <div className="flex justify-center space-x-6 text-sm">
              <a href="mailto:support@intelliquant.ai" className="text-blue-400 hover:text-blue-300">
                support@intelliquant.ai
              </a>
              <span className="text-gray-500">|</span>
              <a href="tel:02-1234-5678" className="text-blue-400 hover:text-blue-300">
                02-1234-5678
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}


==================================================
File: C:\Aproject\quant_platform\src\app\member_payment\payment\fail\page.tsx
==================================================
'use client'

import { useSearchParams } from 'next/navigation'
import Link from 'next/link'
import { XCircle, ArrowLeft, RefreshCw, HelpCircle } from 'lucide-react'

export default function PaymentFailPage() {
  const searchParams = useSearchParams()
  const errorMessage = searchParams.get('message') || searchParams.get('error') || 'ê²°ì œ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤'
  const errorCode = searchParams.get('code')

  const getErrorDescription = (message: string, code: string | null) => {
    const errorMap: { [key: string]: string } = {
      'CARD_COMPANY_NOT_AVAILABLE': 'ì¹´ë“œì‚¬ ì„œë¹„ìŠ¤ê°€ ì¼ì‹œì ìœ¼ë¡œ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤',
      'EXCEED_MAX_CARD_INSTALLMENT_PLAN': 'ì„¤ì • ê°€ëŠ¥í•œ í• ë¶€ ê°œì›” ìˆ˜ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤',
      'INVALID_CARD_EXPIRATION': 'ì¹´ë“œ ìœ íš¨ê¸°ê°„ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤',
      'INVALID_STOPPED_CARD': 'ì •ì§€ëœ ì¹´ë“œì…ë‹ˆë‹¤',
      'LIMIT_EXCEEDED': 'í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤',
      'CARD_NOT_SUPPORTED': 'ì§€ì›í•˜ì§€ ì•ŠëŠ” ì¹´ë“œì…ë‹ˆë‹¤',
      'INVALID_CARD_NUMBER': 'ì¹´ë“œë²ˆí˜¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤'
    }

    if (code && errorMap[code]) {
      return errorMap[code]
    }

    if (message.includes('í•œë„')) return 'ì¹´ë“œ í•œë„ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”'
    if (message.includes('ìŠ¹ì¸')) return 'ì¹´ë“œ ìŠ¹ì¸ì´ ê±°ì ˆë˜ì—ˆìŠµë‹ˆë‹¤'
    if (message.includes('ì·¨ì†Œ')) return 'ì‚¬ìš©ìê°€ ê²°ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤'
    
    return message
  }

  const getSolution = (message: string, code: string | null) => {
    if (code === 'CARD_COMPANY_NOT_AVAILABLE') {
      return 'ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì¹´ë“œë¥¼ ì´ìš©í•´ ì£¼ì„¸ìš”'
    }
    if (code === 'LIMIT_EXCEEDED') {
      return 'ì¹´ë“œ í•œë„ë¥¼ í™•ì¸í•˜ì‹œê±°ë‚˜ ë‹¤ë¥¸ ê²°ì œìˆ˜ë‹¨ì„ ì´ìš©í•´ ì£¼ì„¸ìš”'
    }
    if (code?.includes('CARD')) {
      return 'ì¹´ë“œ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì‹œê±°ë‚˜ ë‹¤ë¥¸ ì¹´ë“œë¡œ ì‹œë„í•´ ì£¼ì„¸ìš”'
    }
    if (message.includes('ì·¨ì†Œ')) {
      return 'ê²°ì œë¥¼ ê³„ì† ì§„í–‰í•˜ì‹œë ¤ë©´ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”'
    }
    
    return 'ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì‹œê±°ë‚˜ ê³ ê°ì§€ì›íŒ€ì— ë¬¸ì˜í•´ ì£¼ì„¸ìš”'
  }

  return (
    <div className="min-h-screen bg-gray-900 py-12">
      <div className="max-w-2xl mx-auto px-6">
        <div className="bg-gray-800 rounded-xl p-8 text-center">
          {/* Error Icon */}
          <div className="mb-6">
            <XCircle className="w-20 h-20 text-red-500 mx-auto mb-4" />
            <h1 className="text-3xl font-bold text-white mb-2">ê²°ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤</h1>
            <p className="text-gray-300">
              ê²°ì œ ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤
            </p>
          </div>

          {/* Error Details */}
          <div className="bg-red-600/10 border border-red-600/20 rounded-lg p-6 mb-8">
            <div className="text-left space-y-4">
              <div>
                <h3 className="text-red-400 font-semibold mb-2">ì˜¤ë¥˜ ë‚´ìš©</h3>
                <p className="text-gray-300">{getErrorDescription(errorMessage, errorCode)}</p>
                {errorCode && (
                  <p className="text-gray-500 text-sm mt-1">ì˜¤ë¥˜ ì½”ë“œ: {errorCode}</p>
                )}
              </div>
              
              <div>
                <h3 className="text-red-400 font-semibold mb-2">í•´ê²° ë°©ë²•</h3>
                <p className="text-gray-300">{getSolution(errorMessage, errorCode)}</p>
              </div>
            </div>
          </div>

          {/* Common Solutions */}
          <div className="bg-gray-700 rounded-lg p-6 mb-8 text-left">
            <h3 className="text-white font-semibold mb-4 flex items-center">
              <HelpCircle className="w-5 h-5 mr-2" />
              ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ í•´ê²°ë°©ë²•
            </h3>
            
            <ul className="text-gray-300 space-y-2 text-sm">
              <li>â€¢ <strong>ì¹´ë“œ í•œë„ ë¶€ì¡±:</strong> ì¹´ë“œì‚¬ì— ë¬¸ì˜í•˜ì—¬ í•œë„ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”</li>
              <li>â€¢ <strong>í•´ì™¸ê²°ì œ ì°¨ë‹¨:</strong> ì¹´ë“œì‚¬ì— í•´ì™¸ê²°ì œ í—ˆìš©ì„ ìš”ì²­í•´ ì£¼ì„¸ìš”</li>
              <li>â€¢ <strong>ì¹´ë“œ ì •ë³´ ì˜¤ë¥˜:</strong> ì¹´ë“œë²ˆí˜¸, ìœ íš¨ê¸°ê°„, CVCë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”</li>
              <li>â€¢ <strong>ì¼ì‹œì  ì˜¤ë¥˜:</strong> 5-10ë¶„ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”</li>
              <li>â€¢ <strong>ë¸Œë¼ìš°ì € ë¬¸ì œ:</strong> ìºì‹œë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ë¥¼ ì´ìš©í•´ ë³´ì„¸ìš”</li>
            </ul>
          </div>

          {/* Action Buttons */}
          <div className="flex flex-col sm:flex-row gap-4 mb-8">
            <Link href="/member_payment/payment" className="flex-1">
              <button className="w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <RefreshCw className="w-4 h-4 mr-2" />
                ë‹¤ì‹œ ê²°ì œí•˜ê¸°
              </button>
            </Link>
            
            <Link href="/member_payment" className="flex-1">
              <button className="w-full bg-gray-600 hover:bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <ArrowLeft className="w-4 h-4 mr-2" />
                ë©¤ë²„ì‹­ìœ¼ë¡œ ëŒì•„ê°€ê¸°
              </button>
            </Link>
          </div>

          {/* Support Information */}
          <div className="pt-6 border-t border-gray-600 text-center">
            <p className="text-gray-400 text-sm mb-4">
              ë¬¸ì œê°€ ê³„ì† ë°œìƒí•˜ë©´ ê³ ê°ì§€ì›íŒ€ìœ¼ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”
            </p>
            
            <div className="bg-gray-700 rounded-lg p-4">
              <h4 className="text-white font-medium mb-3">ê³ ê°ì§€ì›</h4>
              <div className="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6 text-sm">
                <a 
                  href="mailto:support@intelliquant.ai" 
                  className="text-blue-400 hover:text-blue-300 flex items-center"
                >
                  ğŸ“§ support@intelliquant.ai
                </a>
                <a 
                  href="tel:02-1234-5678" 
                  className="text-blue-400 hover:text-blue-300 flex items-center"
                >
                  ğŸ“ 02-1234-5678
                </a>
              </div>
              <p className="text-gray-400 text-xs mt-2">
                í‰ì¼ 09:00 - 18:00 (ì£¼ë§ ë° ê³µíœ´ì¼ ì œì™¸)
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}


==================================================
File: C:\Aproject\quant_platform\src\app\member_payment\payment\success\page.tsx
==================================================
'use client'

import { useState, useEffect } from 'react'
import { useSearchParams, useRouter } from 'next/navigation'
import Link from 'next/link'
import { CheckCircle, ArrowRight, Home, CreditCard } from 'lucide-react'

export default function PaymentSuccessPage() {
  const searchParams = useSearchParams()
  const router = useRouter()
  const [paymentResult, setPaymentResult] = useState(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    const paymentKey = searchParams.get('paymentKey')
    const orderId = searchParams.get('orderId')
    const amount = searchParams.get('amount')

    if (paymentKey && orderId && amount) {
      confirmPayment(paymentKey, orderId, amount)
    } else {
      setLoading(false)
    }
  }, [searchParams])

  const confirmPayment = async (paymentKey: string, orderId: string, amount: string) => {
    try {
      const response = await fetch('/api/payment/confirm', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          paymentKey,
          orderId,
          amount: parseInt(amount)
        })
      })

      const result = await response.json()
      
      if (result.success) {
        setPaymentResult(result.data)
      } else {
        console.error('ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨:', result.error)
        router.push('/payment/fail?error=' + encodeURIComponent(result.error))
      }
    } catch (error) {
      console.error('ê²°ì œ ìŠ¹ì¸ ìš”ì²­ ì‹¤íŒ¨:', error)
      router.push('/payment/fail?error=' + encodeURIComponent('ê²°ì œ ìŠ¹ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤'))
    } finally {
      setLoading(false)
    }
  }

  const formatDate = (dateString: string) => {
    const date = new Date(dateString)
    return date.toLocaleString('ko-KR', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    })
  }

  const getPaymentMethodName = (method: string) => {
    const methods = {
      'ì¹´ë“œ': 'ì‹ ìš©/ì²´í¬ì¹´ë“œ',
      'ê°€ìƒê³„ì¢Œ': 'ê°€ìƒê³„ì¢Œ',
      'ê³„ì¢Œì´ì²´': 'ì‹¤ì‹œê°„ ê³„ì¢Œì´ì²´',
      'íœ´ëŒ€í°': 'íœ´ëŒ€í° ì†Œì•¡ê²°ì œ'
    }
    return methods[method as keyof typeof methods] || method
  }

  if (loading) {
    return (
      <div className="min-h-screen bg-gray-900 flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"></div>
          <p className="text-white text-lg">ê²°ì œë¥¼ ìŠ¹ì¸í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
          <p className="text-gray-400 text-sm mt-2">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</p>
        </div>
      </div>
    )
  }

  return (
    <div className="min-h-screen bg-gray-900 py-12">
      <div className="max-w-2xl mx-auto px-6">
        <div className="bg-gray-800 rounded-xl p-8 text-center">
          {/* Success Icon */}
          <div className="mb-6">
            <CheckCircle className="w-20 h-20 text-green-500 mx-auto mb-4" />
            <h1 className="text-3xl font-bold text-white mb-2">ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h1>
            <p className="text-gray-300">
              Intelliquant ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.
            </p>
          </div>

          {/* Payment Details */}
          {paymentResult && (
            <div className="bg-gray-700 rounded-lg p-6 mb-8 text-left">
              <h3 className="text-white font-semibold text-lg mb-4 flex items-center">
                <CreditCard className="w-5 h-5 mr-2" />
                ê²°ì œ ìƒì„¸ë‚´ì—­
              </h3>
              
              <div className="space-y-3">
                <div className="flex justify-between">
                  <span className="text-gray-300">ì£¼ë¬¸ë²ˆí˜¸</span>
                  <span className="text-white font-mono text-sm">{paymentResult.orderId}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œìƒí’ˆ</span>
                  <span className="text-white">{paymentResult.orderName}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œê¸ˆì•¡</span>
                  <span className="text-white font-semibold">{paymentResult.totalAmount?.toLocaleString()}ì›</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œìˆ˜ë‹¨</span>
                  <span className="text-white">
                    {getPaymentMethodName(paymentResult.method)}
                    {paymentResult.card && ` (${paymentResult.card.company} ${paymentResult.card.number})`}
                  </span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-300">ê²°ì œì¼ì‹œ</span>
                  <span className="text-white">{formatDate(paymentResult.approvedAt)}</span>
                </div>
                {paymentResult.receipt && (
                  <div className="pt-3 border-t border-gray-600">
                    <a 
                      href={paymentResult.receipt.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-blue-400 hover:text-blue-300 text-sm underline"
                    >
                      ì˜ìˆ˜ì¦ í™•ì¸í•˜ê¸° â†’
                    </a>
                  </div>
                )}
              </div>
            </div>
          )}

          {/* Service Information */}
          <div className="bg-green-600/10 border border-green-600/20 rounded-lg p-6 mb-8">
            <h3 className="text-green-400 font-semibold mb-3">ğŸ‰ ì„œë¹„ìŠ¤ ì´ìš© ì•ˆë‚´</h3>
            <ul className="text-gray-300 text-sm space-y-2 text-left">
              <li>â€¢ ê²°ì œ ì™„ë£Œì™€ ë™ì‹œì— ì„ íƒí•˜ì‹  í”Œëœìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œë˜ì—ˆìŠµë‹ˆë‹¤</li>
              <li>â€¢ ì¶”ê°€ëœ ê¸°ëŠ¥ë“¤ì„ ì§€ê¸ˆ ë°”ë¡œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
              <li>â€¢ êµ¬ë… ê´€ë¦¬ëŠ” ë§ˆì´í˜ì´ì§€ì—ì„œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
              <li>â€¢ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ê³ ê°ì§€ì›íŒ€ìœ¼ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”</li>
            </ul>
          </div>

          {/* Action Buttons */}
          <div className="flex flex-col sm:flex-row gap-4">
            <Link href="/dashboard" className="flex-1">
              <button className="w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <ArrowRight className="w-4 h-4 mr-2" />
                ì„œë¹„ìŠ¤ ì´ìš©í•˜ê¸°
              </button>
            </Link>
            
            <Link href="/membership" className="flex-1">
              <button className="w-full bg-gray-600 hover:bg-gray-500 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center">
                <Home className="w-4 h-4 mr-2" />
                ë©¤ë²„ì‹­ ê´€ë¦¬
              </button>
            </Link>
          </div>

          {/* Support Information */}
          <div className="mt-8 pt-6 border-t border-gray-600 text-center">
            <p className="text-gray-400 text-sm mb-2">
              ê²°ì œ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½í•´ ì£¼ì„¸ìš”
            </p>
            <div className="flex justify-center space-x-6 text-sm">
              <a href="mailto:support@intelliquant.ai" className="text-blue-400 hover:text-blue-300">
                support@intelliquant.ai
              </a>
              <span className="text-gray-500">|</span>
              <a href="tel:02-1234-5678" className="text-blue-400 hover:text-blue-300">
                02-1234-5678
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}

